{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const feedbackForm = document.querySelector('.js-feedback-form');\n//form data\nlet formData = {\n  email: '',\n  message: '',\n};\n// utilities for LS operations with data\nconst saveToLocalStorage = (key, data) => {\n  localStorage.setItem(key, JSON.stringify(data));\n};\nconst loadFromLocalStorage = key => {\n  const savedData = localStorage.getItem(key);\n  return savedData ? JSON.parse(savedData) : null;\n};\nconst removeFromLocalStorage = key => {\n  localStorage.removeItem(key);\n};\n//get data from LS\nconst fillFormFields = () => {\n  try {\n    const formDataFromLs = loadFromLocalStorage('feedback-form-state');\n    if (formDataFromLs === null) {\n      return;\n    }\n    formData = formDataFromLs;\n\n    for (let key in formDataFromLs) {\n      feedbackForm.elements[key].value = formDataFromLs[key];\n    }\n  } catch (err) {\n    console.log(err);\n  }\n};\n//call the function to get data from LS\nfillFormFields();\n//set changes to LS\nconst onFormFieldChange = event => {\n  const { target: formElement } = event;\n  let fieldValue = formElement.value;\n  let fieldName = formElement.name;\n  formData[fieldName] = fieldValue;\n\n  saveToLocalStorage('feedback-form-state', formData);\n  console.log(formData);\n};\n//submit form and reset it\nconst onFormSubmit = event => {\n  event.preventDefault();\n  const { currentTarget: formEl } = event;\n  //check if fields are filled\n  if (!formData.email.trim() || !formData.message.trim()) {\n    alert('Fill please all fields');\n    return;\n  }\n  formEl.reset();\n  removeFromLocalStorage('feedback-form-state');\n};\n//handlers for form\nfeedbackForm.addEventListener('change', onFormFieldChange);\nfeedbackForm.addEventListener('submit', onFormSubmit);\n"],"names":["feedbackForm","formData","saveToLocalStorage","key","data","loadFromLocalStorage","savedData","removeFromLocalStorage","fillFormFields","formDataFromLs","err","onFormFieldChange","event","formElement","fieldValue","fieldName","onFormSubmit","formEl"],"mappings":"uFAAA,MAAMA,EAAe,SAAS,cAAc,mBAAmB,EAE/D,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAqB,CAACC,EAAKC,IAAS,CACxC,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAI,CAAC,CAChD,EACMC,EAAuBF,GAAO,CAClC,MAAMG,EAAY,aAAa,QAAQH,CAAG,EAC1C,OAAOG,EAAY,KAAK,MAAMA,CAAS,EAAI,IAC7C,EACMC,EAAyBJ,GAAO,CACpC,aAAa,WAAWA,CAAG,CAC7B,EAEMK,EAAiB,IAAM,CAC3B,GAAI,CACF,MAAMC,EAAiBJ,EAAqB,qBAAqB,EACjE,GAAII,IAAmB,KACrB,OAEFR,EAAWQ,EAEX,QAASN,KAAOM,EACdT,EAAa,SAASG,CAAG,EAAE,MAAQM,EAAeN,CAAG,CAExD,OAAQO,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EAEAF,IAEA,MAAMG,EAAoBC,GAAS,CACjC,KAAM,CAAE,OAAQC,CAAa,EAAGD,EAChC,IAAIE,EAAaD,EAAY,MACzBE,EAAYF,EAAY,KAC5BZ,EAASc,CAAS,EAAID,EAEtBZ,EAAmB,sBAAuBD,CAAQ,EAClD,QAAQ,IAAIA,CAAQ,CACtB,EAEMe,EAAeJ,GAAS,CAC5BA,EAAM,eAAc,EACpB,KAAM,CAAE,cAAeK,CAAQ,EAAGL,EAElC,GAAI,CAACX,EAAS,MAAM,KAAI,GAAM,CAACA,EAAS,QAAQ,OAAQ,CACtD,MAAM,wBAAwB,EAC9B,MACD,CACDgB,EAAO,MAAK,EACZV,EAAuB,qBAAqB,CAC9C,EAEAP,EAAa,iBAAiB,SAAUW,CAAiB,EACzDX,EAAa,iBAAiB,SAAUgB,CAAY"}